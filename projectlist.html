<!DOCTYPE html>
<html lang ="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE-edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet"
          href="style.css">
    <link rel="stylesheet" href="mediaqueries.css">
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Oswald">   
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'> 

      <!-- GOOGLE FONT LINK - ICONS -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0">

            

    <title> Wilson Kosasih - Portfolio </title>

    <header>

      <nav class="navbar">

        <a class="logo" href="#home">Wilson<span>.</span></a>

        <ul class="menu-links">
          <span id="close-menu-btn" class="material-symbols-outlined">close</span>
          <li><a href="#home">HOME.</a></li>
          <li><a href="#myproject">PROJECTS.</a></li>
          <li><a href="#about">ABOUT.</a></li>
          <li><a href="#contactme">CONTACT.</a></li>
        </ul>

        <span id="hamburger-btn" class="material-symbols-outlined">menu</span>

      </nav>

    </header>

    
    <body>

        <div class="slider-content">
            <div class="slide-number">
                <div class="prefix">
                    <div>1</div>
                    <div>2</div>
                    <div>3</div>
                    <div>4</div>
                </div>
            </div>
        </div>

        <div class="slide-name">
            <div class="names">
                <div>IPOH EXHIBITION</div>
                <div>MLE PROJECT</div>
                <div>INTERNS</div>
                <div>GODOWN PROJECT</div>
            </div>
        </div>

        <div class="slide-year">
            <div class="years">
                <div>2020</div>
                <div>2021</div>
                <div>2022</div>
                <div>2023</div>
            </div>
        </div>

        <div class="slider">
            <div class="slide" id="slide-1">
                <img src="./images/project1bg.jpg" alt="placeholder1">
            </div>
            <div class="slide" id="slide-2">
                <img src="./images/project1bg.jpg" alt="placeholder2">
            </div>

            <div class="slide" id="slide-3">
                <img src="./images/project1bg.jpg" alt="placeholder3">
            </div>

            <div class="slide" id="slide-4">
                <img src="./images/project1bg.jpg" alt="placeholder4">
            </div>
            <div style="height: 400vh"></div>
        </div>


        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js">
        </script>
        
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                const slides = document.querySelectorAll (".slide");
                let CurrentSlideIndex = 0;
                let isAnimating = false;
                let currentTopValue = 0;

                const elements = [
                    {selector: ".prefix" , delay: 0},
                    {selector: ".names" , delay: 0.15},
                    {selector: ".years" , delay: 0.3},
                ];

                slides.forEach((slide, idx) =>{
                    if(idx !== 0) {
                        const img = slide.querySelector("img");
                        gsap.set(img, {scale: 2, top: "4em"});
                    }
                });

                function showSlide(index) {
                    if (isAnimating) return;
                    isAnimating = true;
                    const slide = slides[index];
                    const img = slide.querySelector("img");

                    currentTopValue -= 30;

                    elements. forEach((elem)=> {
                        gsap.to(document.querySelector(elem.selector),{
                        y: `${currentTopValue} px`,
                        duration : 2,
                        ease: "power4.inOut",
                        delay: elem.delay,
                    });
                })

                gsap.to(img, {
                    scale: 1,
                    top: "0%",
                    duration: 2,
                    ease: "power3.inOut",
                })

                gsap.to(slide, {
                    clipPath: "polygon(0 0%, 100% 0%, 100% 100%, 0 100%)",
                    duration: 2,
                    ease: "power4.inOut",
                    onComplete: () => {
                        isAnimating = false;
                    },
                },
                "<"
                );
                }

                function hideSlide (index) {
                    if(isAnimating) return;
                    isAnimating = true;
                    const slide = slides [index];
                    const img = slide.querySelector("img");

                    currentTopValue += 30;
                    elements.forEach((elem)=> {
                        gsap.to(document.querySelector(elem.selector), {
                        y: `${currentTopValue}px` ,
                        duration:2,
                        ease: "power4.inOut",
                        delay: elem, delay,
                        });
                    });

                    gsap.to(slide, {
                        clipPath: "polygon (0 100%, 100% 100%, 100% 100%, 0 100%)",
                        duration: 2,
                        ease: "power4.inOut",
                    });

                    gsap.to(img, {
                        scale: 2,
                        top:"4em",
                        duration: 2,
                        ease: "power3.InOut",
                    });

                    gsap.to (slide, {
                        clipPath: "polygon(0 100%, 100% 100%, 100% 100%, 0 100%)",
                        duration: 2,
                        ease: "power4.inOut",
                        onComplete: () => {
                            isAnimating = false;
                        },
                    },
                    "<"
                    );
                }

                window.addEventListener("wheel", (e) => {
                    if (isAnimating) return;
                    if (e,deltaY > 0 && CurrentSlideIndex < slides.length - 1)
                    {
                        showSlide(CurrentSlideIndex + 1);
                        CurrentSlideIndex++;
                    } else if (e.deltaY < 0 && CurrentSlideIndex > 0) {
                        hideSlide (CurrentSlideIndex);
                        CurrentSlideIndex--;
                    }
                });
            });

        </script>
    </body>


    <footer>
      <div class="icon-bar">
    <a href="#"
        class="google"><i class="fa fa-google"></i>
    </a>
    <a href="https://www.linkedin.com/in/wilsonkosasih/" target="_blank"
        class="linkedin"><i class="fa fa-linkedin"></i>
    </a>
    <a href="https://wa.me/6281296995520" target="_blank"
        class="Whatsapp"> <i class="fa fa-whatsapp"> </i>
    </a>
  </div>
    </footer>

    <script>
      const txts=document.querySelector(".animate-text").children,
            txtsLen=txts.length;
        let index=0;
       const textInTimer=3000,
             textOutTimer=2800;

      function animateText() {
         for(let i=0; i<txtsLen; i++){
           txts[i].classList.remove("text-in","text-out");  
         }
         txts[index].classList.add("text-in");

         setTimeout(function(){
             txts[index].classList.add("text-out");              
         },textOutTimer)

         setTimeout(function(){

           if(index == txtsLen-1){
               index=0;
             }
            else{
                index++;
              }
             animateText();
         },textInTimer); 
      }
      
      window.onload=animateText;

      const header = document.querySelector("header");
      const hamburgerBtn = document.querySelector("#hamburger-btn");
      const closeMenuBtn = document.querySelector("#close-menu-btn");

      // Toggle mobile menu on hamburger button click
      hamburgerBtn.addEventListener("click", () => header.classList.toggle("show-mobile-menu"));

      // Close mobile menu on close button click
      closeMenuBtn.addEventListener("click", () => hamburgerBtn.click());

</script>


</html>
